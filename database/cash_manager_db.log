/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
create table ACCOUNTS (ID bigint generated by default as identity (start with 1), NAME varchar(255), CURRENCY_ID bigint, USER_ID bigint, primary key (ID))
create table ACCOUNT_AMOUNT (ID bigint generated by default as identity (start with 1), AMOUNT integer, ACCOUNT_ID bigint, primary key (ID))
create table CATEGORIES (ID bigint generated by default as identity (start with 1), NAME varchar(255), USER_ID bigint, primary key (ID))
create table CURRENCIES (ID bigint generated by default as identity (start with 1), NAME varchar(255), USER_ID bigint, primary key (ID))
create table TRANSACTIONS (ID bigint generated by default as identity (start with 1), AMOUNT integer, COMMENT varchar(255), DATE timestamp, RECIPIENT varchar(255), type integer, ACCOUNT_ID bigint, ACCOUNT_TO_ID bigint, CATEGORY_ID bigint, primary key (ID))
create table USERS (ID bigint generated by default as identity (start with 1), PASSWORD varchar(255), USERNAME varchar(255), primary key (ID))
create table USER_ROLES (USER_ID bigint not null, ROLE varchar(255) not null, primary key (USER_ID, ROLE))
alter table ACCOUNTS add constraint FKAF43ABE677BECA24 foreign key (CURRENCY_ID) references CURRENCIES
alter table ACCOUNTS add constraint FKAF43ABE6FAB20CE4 foreign key (USER_ID) references USERS
alter table ACCOUNT_AMOUNT add constraint FK2F88B2CAD5E51F50 foreign key (ACCOUNT_ID) references ACCOUNTS
alter table CATEGORIES add constraint FK6A31321CFAB20CE4 foreign key (USER_ID) references USERS
alter table CURRENCIES add constraint FKDBF9EC6FFAB20CE4 foreign key (USER_ID) references USERS
alter table TRANSACTIONS add constraint FKFE987155E67667B0 foreign key (ACCOUNT_TO_ID) references ACCOUNTS
alter table TRANSACTIONS add constraint FKFE98715591270704 foreign key (CATEGORY_ID) references CATEGORIES
alter table TRANSACTIONS add constraint FKFE987155D5E51F50 foreign key (ACCOUNT_ID) references ACCOUNTS
alter table USER_ROLES add constraint FKC6C79929FAB20CE4 foreign key (USER_ID) references USERS
INSERT INTO USERS VALUES(1,'test','test')
INSERT INTO USER_ROLES VALUES(1,'ROLE_USER')
COMMIT
INSERT INTO CURRENCIES VALUES(1,'UAH',1)
COMMIT
INSERT INTO CURRENCIES VALUES(2,'USD',1)
COMMIT
INSERT INTO CURRENCIES VALUES(3,'EUR',1)
COMMIT
INSERT INTO CATEGORIES VALUES(1,'Meal (business lunch)',1)
COMMIT
INSERT INTO CATEGORIES VALUES(2,'Meal (other)',1)
COMMIT
INSERT INTO CATEGORIES VALUES(3,'Transport',1)
COMMIT
INSERT INTO CATEGORIES VALUES(4,'Health',1)
COMMIT
INSERT INTO CATEGORIES VALUES(5,'Household',1)
COMMIT
INSERT INTO CATEGORIES VALUES(6,'Pets',1)
COMMIT
INSERT INTO CATEGORIES VALUES(7,'Luxury',1)
COMMIT
INSERT INTO CATEGORIES VALUES(8,'Entertainment',1)
COMMIT
INSERT INTO CATEGORIES VALUES(9,'Cellphone',1)
COMMIT
/*C6*/SET SCHEMA PUBLIC
INSERT INTO ACCOUNTS VALUES(1,'Wallet',1,1)
INSERT INTO ACCOUNT_AMOUNT VALUES(1,0,1)
COMMIT
INSERT INTO ACCOUNTS VALUES(2,'Cardboard box',1,1)
INSERT INTO ACCOUNT_AMOUNT VALUES(2,0,2)
COMMIT
INSERT INTO ACCOUNTS VALUES(3,'Strongbox',1,1)
INSERT INTO ACCOUNT_AMOUNT VALUES(3,0,3)
COMMIT
DELETE FROM ACCOUNTS WHERE ID=2
INSERT INTO ACCOUNTS VALUES(2,'Locker',1,1)
COMMIT
/*C2*/INSERT INTO ACCOUNTS VALUES(4,'Strongbox (USD)',2,1)
INSERT INTO ACCOUNT_AMOUNT VALUES(4,0,4)
COMMIT
DELETE FROM ACCOUNTS WHERE ID=3
INSERT INTO ACCOUNTS VALUES(3,'Strongbox (UAH)',1,1)
COMMIT
INSERT INTO ACCOUNTS VALUES(5,'UkrSibBank',1,1)
INSERT INTO ACCOUNT_AMOUNT VALUES(5,0,5)
COMMIT
/*C5*/SET SCHEMA PUBLIC
INSERT INTO CATEGORIES VALUES(10,'Salary',1)
COMMIT
